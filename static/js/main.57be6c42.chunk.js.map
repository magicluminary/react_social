{"version":3,"sources":["redux/dialogs-reducer.js","api/api.js","assets/images/loader.svg","components/Dialogs/Message/Message.js","components/Sidebar/Navbar/navbar.module.css","serviceWorker.js","redux/sidebar-reducer.js","redux/auth-reducer.js","redux/app-reducer.js","redux/redux-store.js","components/Sidebar/Navbar/navbar.js","components/Footer.js","components/News/News.js","components/Music/Music.js","components/Settings/Settings.js","components/Header/Header.jsx","components/Header/HeaderContainer.js","components/Login/Login.js","hoc/withSuspense.js","App.js","index.js","components/common/FormsControls/FormsControls.module.css","components/common/preloader/preloader.js","components/Dialogs/Dialogs.module.css","utils/validator/validators.js","components/common/FormsControls/FormsControls.js","components/Sidebar/Friends/Friends.module.css","components/Header/header.module.css","redux/profile-reducer.js","utils/object-helpers.js","redux/users-reducer.js"],"names":["initialState","messages","id","name","owner","avatar","dialogs","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","newMessage","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","followAPI","userID","post","unfollowAPI","delete","profileAPI","getProfile","userId","getStatus","console","log","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","module","exports","Message","props","c","className","message","src","message_content","Boolean","window","location","hostname","match","sidebarReducer","isAuth","setAuthUserData","payload","getAuthUserData","dispatch","a","resultCode","authReducer","initialized","appReducer","reducers","combineReducers","profilePage","profileReducer","dialogesPage","sidebar","usersPage","usersReducer","auth","form","formReducer","app","store","createStore","applyMiddleware","thunkMiddleware","Navbar","nav","item","to","activeClassName","activeLink","active","Footer","News","Music","Settings","Header","header","loginblock","onClick","HeaderContainer","this","React","Component","connect","LoginReduxForm","reduxForm","handleSubmit","error","onSubmit","createField","required","Input","Field","placeholder","component","validate","styles","formSummaryError","length","stopSubmit","_error","formData","withSuspense","fallback","DialogsContainer","lazy","UsersContainer","ProfileContainer","App","initializeApp","path","render","AppContainer","compose","withRouter","SocialApp","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","Preloader","preloader","value","maxLengthCreator","maxLength","FormControl","input","meta","child","element","hasError","touched","formControl","children","Textarea","validators","posts","likesCount","profile","addPostActionCreator","newPostText","setStatus","getUserProfile","newPost","filter","p","postId","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","page","count","totalCount","followUnfollowFlow","apiMethod","actionCreator","follow","bind","unfollow","followed"],"mappings":"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","file":"static/js/main.57be6c42.chunk.js","sourcesContent":["// const UPDATE_NEW_MESSAGE_BODY = 'UPDATE-NEW-MESSAGE-BODY';\r\nconst SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nlet initialState={\r\n    messages: [\r\n        {id: 1, name: 'Hi', owner: 0, avatar: 'https://www.nj.com/resizer/h8MrN0-Nw5dB5FOmMVGMmfVKFJo=/450x0/smart/cloudfront-us-east-1.images.arcpublishing.com/advancelocal/SJGKVE5UNVESVCW7BBOHKQCZVE.jpg'},\r\n        {id: 2, name: 'How are you', owner: 0, avatar: 'https://www.nj.com/resizer/h8MrN0-Nw5dB5FOmMVGMmfVKFJo=/450x0/smart/cloudfront-us-east-1.images.arcpublishing.com/advancelocal/SJGKVE5UNVESVCW7BBOHKQCZVE.jpg'},\r\n        {id: 3, name: 'Fine', owner: 1, avatar: 'https://png.pngtree.com/png-clipart/20190920/original/pngtree-cute-chubby-little-dinosaur-png-image_4625217.jpg'},\r\n        {id: 4, name: 'reura', owner: 1, avatar: 'https://png.pngtree.com/png-clipart/20190920/original/pngtree-cute-chubby-little-dinosaur-png-image_4625217.jpg'},\r\n        {id: 5, name: 'Yo', owner: 0, avatar: 'https://www.nj.com/resizer/h8MrN0-Nw5dB5FOmMVGMmfVKFJo=/450x0/smart/cloudfront-us-east-1.images.arcpublishing.com/advancelocal/SJGKVE5UNVESVCW7BBOHKQCZVE.jpg'},\r\n        {id: 6, name: 'Yo',  owner: 1, avatar: 'https://png.pngtree.com/png-clipart/20190920/original/pngtree-cute-chubby-little-dinosaur-png-image_4625217.jpg'}\r\n    ],\r\n    dialogs: [\r\n        {id: 1, name: 'Dima', avatar: 'https://www.nj.com/resizer/h8MrN0-Nw5dB5FOmMVGMmfVKFJo=/450x0/smart/cloudfront-us-east-1.images.arcpublishing.com/advancelocal/SJGKVE5UNVESVCW7BBOHKQCZVE.jpg'},\r\n        {id: 2, name: 'Sasha', avatar: 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcThuB5b0TO6F40mF3AZ0bvBXpCiwXuJLbTb9W2a_UPBBnh3A7mN&usqp=CAU'},\r\n        {id: 3, name: 'Shura', avatar: 'https://png.pngtree.com/png-clipart/20190920/original/pngtree-cute-chubby-little-dinosaur-png-image_4625217.jpg'},\r\n        {id: 4, name: 'Sveta', avatar: 'https://www.news4jax.com/resizer/b89RYEm5oAgzxJxWIGoyLJ9lZu8=/960x960/smart/filters:format(jpeg):strip_exif(true):strip_icc(true):no_upscale(true):quality(65)/cloudfront-us-east-1.images.arcpublishing.com/gmg/X462YQ4HIJEGHHX2I3LXRV4G7A.jpg'},\r\n        {id: 5, name: 'Dima K', avatar: 'https://cdn.pixabay.com/photo/2016/12/13/16/17/dancer-1904467_960_720.png'}\r\n    ]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        // case UPDATE_NEW_MESSAGE_BODY:\r\n        //     return {\r\n        //         ...state,\r\n        //         newMessageBody: action.body\r\n        //     }\r\n        case SEND_MESSAGE:\r\n            let body = action.newMessageBody;\r\n            let newMessage = {\r\n                id: 8,\r\n                name: body,\r\n                owner: 1,\r\n                avatar: 'https://png.pngtree.com/png-clipart/20190920/original/pngtree-cute-chubby-little-dinosaur-png-image_4625217.jpg'\r\n            };\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, newMessage]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({type: SEND_MESSAGE,newMessageBody})\r\n// export const updateNewMessageBodyCreator = (body) => ({type: UPDATE_NEW_MESSAGE_BODY, body: body})\r\n\r\nexport default dialogsReducer;","import * as axios from \"axios\";\r\n\r\n\r\nlet instance = axios.create({\r\n    withCredentials:true,\r\n    baseURL:'https://social-network.samuraijs.com/api/1.0/',\r\n    headers:{\r\n        \"API-KEY\":\"538a19b8-b072-4138-840a-88d1384280f9\"\r\n    }\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10){\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => {\r\n            return response.data;\r\n        })\r\n    },\r\n    followAPI(userID){\r\n        return instance.post(`follow/${userID}`, {})\r\n    },\r\n    unfollowAPI(userID){\r\n        return instance.delete(`follow/${userID}`, {})\r\n    }\r\n}\r\nexport const profileAPI = {\r\n    getProfile(userId){\r\n        return instance.get('profile/'+userId);\r\n    },\r\n    getStatus(userId){\r\n        console.log('profile/status/'+userId)\r\n        return instance.get('profile/status/'+userId);\r\n    },\r\n    updateStatus(status){\r\n        return instance.put('profile/status',{status: status});\r\n    }\r\n}\r\nexport const authAPI = {\r\n    me(){\r\n        return instance.get(`auth/me`);\r\n    },\r\n    login(email,password,rememberMe=false){\r\n        return instance.post(`auth/login`,{email,password,rememberMe});\r\n    },\r\n    logout(){\r\n        return instance.delete(`auth/login`);\r\n    }\r\n}\r\n\r\n\r\n","module.exports = __webpack_public_path__ + \"static/media/loader.a595047a.svg\";","import React from \"react\";\r\nimport c from './../Dialogs.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Message = (props) => {\r\n let owner = props.state.owner ? c.owner : '';\r\n\r\n return(\r\n     <div className={c.message}>\r\n         <div className={owner}>\r\n            <img className=\"avatar\" src={props.state.avatar}/>\r\n            <div className={c.message_content}> <span>{props.state.name}</span></div>\r\n         </div>\r\n     </div>\r\n )\r\n}\r\n\r\nexport default Message;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"navbar_item__3yJF-\",\"activeLink\":\"navbar_activeLink__2I4mJ\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","const sidebarReducer = (state, action) => {\r\n    return '';\r\n}\r\n\r\nexport default sidebarReducer;","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\"\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {userId, email, login, isAuth}\r\n})\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n    if (response.data.resultCode === 0) {\r\n        let {id, email, login} = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true))\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n        dispatch(stopSubmit(\"login\", {_error: message}));\r\n    }\r\n}\r\n\r\nexport const logout = (email, password, rememberMe) => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData(setAuthUserData(null, null, null, false)))\r\n    }\r\n}\r\n\r\nexport default authReducer;","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\"\r\nimport {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState={\r\n    initialized:false\r\n}\r\n\r\nconst appReducer = (state=initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return  {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setInitializedSuccess = () => ({type: INITIALIZED_SUCCESS})\r\n\r\nexport const initializeApp = () => (dispatch) =>{\r\n    let promise = dispatch(getAuthUserData())\r\n    promise.then(()=>\r\n        dispatch(setInitializedSuccess())\r\n    )\r\n\r\n}\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from \"redux-form\";\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogesPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import React from \"react\";\r\nimport c from './navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={c.nav}>\r\n            <div className={c.item}>\r\n                <NavLink to='/profile' activeClassName={c.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={`${c.item} ${c.active}`}>\r\n                <NavLink to='/dialogs' activeClassName={c.activeLink}>Messages</NavLink>\r\n            </div>\r\n            <div className={c.item}>\r\n                <NavLink to='/users' activeClassName={c.activeLink}>Users</NavLink>\r\n            </div>\r\n            <div className={c.item}>\r\n                <NavLink to='/news' activeClassName={c.activeLink}>News</NavLink>\r\n            </div>\r\n            <div className={c.item}>\r\n                <NavLink to='/music' activeClassName={c.activeLink}>Music</NavLink>\r\n            </div>\r\n            <div className={c.item}>\r\n                <NavLink to='/settings' activeClassName={c.activeLink}>Settings</NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\nexport default Navbar;","import React from \"react\";\r\n\r\nconst Footer = () => {\r\n    return <footer className='footer'></footer>\r\n}\r\nexport default Footer;","import React from \"react\";\r\nimport c from './News.module.css';\r\n\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import React from \"react\";\r\nimport c from './Music.module.css';\r\n\r\n\r\nconst Music = (props) => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React from \"react\";\r\nimport c from './Settings.module.css';\r\n\r\n\r\nconst Settings = (props) => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","import React from 'react';\r\nimport c from './header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return <header className={c.header}>\r\n        <img src='https://image.shutterstock.com/image-vector/dots-letter-c-logo-design-260nw-551769190.jpg'/>\r\n        <div className={c.loginblock}>\r\n            {props.isAuth\r\n                ? <div>{props.login} - <button onClick={props.logout}>Logout</button></div>\r\n                : <NavLink to='/login'>Login</NavLink>}\r\n        </div>\r\n    </header>\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\nimport {connect} from \"react-redux\";\r\n\r\nclass HeaderContainer extends React.Component{\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\nconst mathStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n});\r\n\r\nexport default connect(mathStateToProps,{logout})(HeaderContainer);","import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../common/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/validator/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport styles from \"../common/FormsControls/FormsControls.module.css\"\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n                {createField(\"Login\",\"email\",[required],Input)}\r\n                {/*<Field placeholder={\"Login\"} name={\"email\"} component={Input} validate={[required]}/>*/}\r\n            <div><Field placeholder={\"Password\"} name={\"password\"} type={\"password\"} component={Input} validate={[required]}/></div>\r\n            <div><Field component={\"input\"} name={\"rememberMe\"} type={\"checkbox\"}/>remember me</div>\r\n            {error && <div className={styles.formSummaryError}>{error}</div>}\r\n            <div><button>Login</button></div>\r\n        </form>\r\n    )\r\n}\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        console.log(formData)\r\n        props.login(formData.email,formData.password,formData.rememberMe)\r\n    }\r\n\r\n    if(props.isAuth){\r\n        return <Redirect to={\"/profile\"} />\r\n    }\r\n\r\n    return <div>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} />\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps,{login})(Login);","import React, {Component, Suspense} from \"react\";\r\nimport Preloader from \"../components/common/preloader/preloader\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <Suspense fallback={<Preloader />}>\r\n            <Component />\r\n        </Suspense>\r\n    }\r\n}","import React, {Suspense} from 'react';\nimport './App.css';\nimport Navbar from \"./components/Sidebar/Navbar/navbar\";\nimport Footer from \"./components/Footer\";\nimport {BrowserRouter, Route, withRouter} from \"react-router-dom\";\nimport News from \"./components/News/News\";\nimport Music from \"./components/Music/Music\";\nimport Settings from \"./components/Settings/Settings\";\nimport Friends from \"./components/Sidebar/Friends/Friends\";\n\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport LoginPage from \"./components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./redux/app-reducer\";\nimport Preloader from \"./components/common/preloader/preloader\";\nimport store from \"./redux/redux-store\";\nimport {withSuspense} from \"./hoc/withSuspense\";\n\n// import DialogsContainer from \"./components/Dialogs/DialogsContainer\";\n// import UsersContainer from \"./components/Users/UsersContainer\";\n// import ProfileContainer from \"./components/Profile/ProfileContainer\";\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DialogsContainer\"))\nconst UsersContainer = React.lazy(() => import(\"./components/Users/UsersContainer\"))\nconst ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\"))\n\nclass App extends React.Component {\n    componentDidMount() {\n        this.props.initializeApp();\n    }\n\n    render() {\n        if(!this.props.initialized)\n            return <Preloader />\n\n        return (\n            <div className='app-wrapper'>\n                <HeaderContainer/>\n                <div className=\"sidebar\">\n                    <Navbar/>\n                    {/*<Friends state={props.store.getState().sidebar}/>*/}\n                </div>\n                <div className='app-wrapper-content'>\n                    <Route path='/dialogs'\n                           render={withSuspense(DialogsContainer)}/>\n                    <Route path='/profile/:userId?'\n                           render={withSuspense(ProfileContainer)}/>\n                    <Route path='/users'\n                           render={withSuspense(UsersContainer)}/>\n                    <Route path='/login'\n                           render={() => <LoginPage/>}/>\n                    <Route path='/news' component={News}/>\n                    <Route path='/music' component={Music}/>\n                    <Route path='/settings' component={Settings}/>\n                </div>\n                <Footer/>\n            </div>\n        );\n    }\n}\n\nconst mathStateToProps = (state) => ({\n    initialized: state.app.initialized\n});\n\nlet AppContainer = compose(\n    withRouter,\n    connect(mathStateToProps, {initializeApp})\n)(App);\n\nlet SocialApp = (props) => {\n    return <BrowserRouter>\n        <Provider store={store}>\n            <AppContainer />\n        </Provider>\n    </BrowserRouter>\n}\n\nexport default SocialApp;","import React from 'react';\nimport * as serviceWorker from './serviceWorker';\nimport store from \"./redux/redux-store\";\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {Provider} from \"react-redux\";\nimport SocialApp from \"./App\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <SocialApp />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form-control\":\"FormsControls_form-control__2yjye\",\"formControl\":\"FormsControls_formControl__3pmeh\",\"error\":\"FormsControls_error__1QK6a\",\"formSummaryError\":\"FormsControls_formSummaryError__3u9-d\"};","import preloader from \"../../../assets/images/loader.svg\";\r\nimport React from \"react\";\r\n\r\nlet Preloader = (props) => {\r\n    return <img src={preloader}/>\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1abV9\",\"dialogItems\":\"Dialogs_dialogItems__1i5Fn\",\"active\":\"Dialogs_active__2WPEU\",\"dialog\":\"Dialogs_dialog__31an4\",\"messages\":\"Dialogs_messages__XK_9B\",\"message\":\"Dialogs_message__1upX-\",\"owner\":\"Dialogs_owner__3KU4O\",\"message_content\":\"Dialogs_message_content__2Kw8o\"};","export const required = value => {\r\n    if(value) return undefined;\r\n    return \"Field is required\";\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if(value && value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}\r\n","import React from \"react\";\r\nimport styles from \"./FormsControls.module.css\";\r\nimport {required} from \"../../../utils/validator/validators\";\r\nimport {Field} from \"redux-form\";\r\n\r\nexport const FormControl = ({input, meta, child, element, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={styles.formControl + ' ' + (hasError && styles.error)}>\r\n            {props.children}\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, children, element, ...restProps} = props\r\n    return (<FormControl {...props}><textarea {...input} {...props}/></FormControl>)\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, children, element, ...restProps} = props\r\n    return (<FormControl {...props}><input {...input} {...props}/></FormControl>)\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component) => {\r\n    return <div>\r\n        <Field placeholder={placeholder} name={name} component={component} validate={validators}/>\r\n    </div>\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"Friends_friends__RVs3C\",\"friend\":\"Friends_friend__3h0uh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__2Pgzs\",\"loginblock\":\"header_loginblock__jLCW7\"};","import {authAPI, profileAPI, usersAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, name: 'What\\'s up', likesCount: 20},\r\n        {id: 2, name: 'It\\'s my first post', likesCount: 28},\r\n        {id: 3, name: 'Hello', likesCount: 9},\r\n        {id: 4, name: 'Its me', likesCount: 786}\r\n    ],\r\n    // newPostText: 'it',\r\n    profile: null,\r\n    status: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: 6,\r\n                name: action.newPostText,\r\n                likesCount: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                // newPostText: ''\r\n            };\r\n        case SET_USER_PROFILE: {\r\n            return {...state, profile: action.profile};\r\n        }\r\n        case SET_STATUS: {\r\n            return {...state, status: action.status};\r\n        }\r\n        case DELETE_POST: {\r\n            return {...state, posts: state.posts.filter(p => p.id != action.postId)};\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText})\r\nexport const deletePostActionCreator = (postId) => ({type: DELETE_POST, postId})\r\n\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const setStatus = (status) => ({type: SET_STATUS, status})\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data))\r\n}\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data))\r\n}\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status);\r\n    if (response.resultCode === 0)\r\n        dispatch(setStatus(response.data));\r\n}\r\n\r\nexport default profileReducer;","\r\nexport const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n}","import {authAPI, usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_USERS_TOTAL_COUNT = 'SET_USERS_TOTAL_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [\r\n        // {id:1, photo:'https://www.nj.com/resizer/h8MrN0-Nw5dB5FOmMVGMmfVKFJo=/450x0/smart/cloudfront-us-east-1.images.arcpublishing.com/advancelocal/SJGKVE5UNVESVCW7BBOHKQCZVE.jpg',\r\n        //     followed:true, fullName:'Dmitry', status: 'Im a boss', location: {city: 'Minsk', country: 'Belarus'}},\r\n        // {id:2, photo : 'https://png.pngtree.com/png-clipart/20190920/original/pngtree-cute-chubby-little-dinosaur-png-image_4625217.jpg',\r\n        //     followed:false, fullName:'Sasja', status: 'Im a boss too', location: {city: 'Moscow', country: 'Russia'}},\r\n        // {id:3, photo:'https://www.news4jax.com/resizer/b89RYEm5oAgzxJxWIGoyLJ9lZu8=/960x960/smart/filters:format(jpeg):strip_exif(true):strip_icc(true):no_upscale(true):quality(65)/cloudfront-us-east-1.images.arcpublishing.com/gmg/X462YQ4HIJEGHHX2I3LXRV4G7A.jpg',\r\n        //     followed:false, fullName:'Andrew', status: 'Im a boss also', location: {city: 'Kiev', country: 'Ukraine'}}\r\n    ],\r\n    pageSize: 20,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userID, \"id\", {followed: true})\r\n            };\r\n        case UNFOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userID, \"id\", {followed: false})\r\n                // users: state.users.map(u => {\r\n                //     if (u.id === action.userID) {\r\n                //         return {...u, followed: false}\r\n                //     }\r\n                //     return u;\r\n                // })\r\n            };\r\n        }\r\n        case SET_USERS:\r\n            return {\r\n                ...state, users: action.users\r\n            }\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state, currentPage: action.currentPage\r\n            }\r\n        case SET_USERS_TOTAL_COUNT:\r\n            return {\r\n                ...state, totalUsersCount: action.count\r\n            }\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state, isFetching: action.isFetching\r\n            }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userID]\r\n                    : state.followingInProgress.filter(id => id != action.userID)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userID) => ({type: FOLLOW, userID})\r\nexport const unfollowSuccess = (userID) => ({type: UNFOLLOW, userID})\r\nexport const setUsers = (users) => ({type: SET_USERS, users})\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\r\nexport const setTotalUsersCount = (count) => ({type: SET_USERS_TOTAL_COUNT, count})\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const toggleFollowingProgress = (isFetching, userID) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userID\r\n})\r\n\r\nexport const getUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true))\r\n        dispatch(setCurrentPage(page))\r\n        let data = await usersAPI.getUsers(page, pageSize);\r\n        dispatch(toggleIsFetching(false))\r\n        dispatch(setUsers(data.items))\r\n        dispatch(setTotalUsersCount(data.totalCount))\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userID, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userID))\r\n    let response = await apiMethod(userID);\r\n    if (response.data.resultCode == 0) {\r\n        dispatch(actionCreator(userID))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userID))\r\n}\r\n\r\nexport const follow = (userID) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userID, usersAPI.followAPI.bind(usersAPI),followSuccess);\r\n    }\r\n}\r\n\r\nexport const unfollow = (userID) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userID, usersAPI.unfollowAPI.bind(usersAPI),unfollowSuccess);\r\n    }\r\n}\r\n\r\nexport default usersReducer;"],"sourceRoot":""}