(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{296:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(95);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(n=(s=i.next()).done)&&(a.push(s.value),!t||a.length!==t);n=!0);}catch(l){r=!0,o=l}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return a}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},297:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(55),s=a.n(o),i=a(14),l=function(e){return r.a.createElement("div",{className:s.a.dialog+" "+s.a.active},r.a.createElement(i.b,{to:""},r.a.createElement("img",{className:"avatar",src:e.avatar}),r.a.createElement("span",null,e.name)))},c=a(140),u=a(10),m=a(88),p=a(129),d=a(42),f=a(34),b=Object(d.a)(20),v=Object(p.a)({form:"dialogAddMessageForm"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(m.a,{component:f.b,name:"newMessageBody",placeholder:"enter message",validate:[d.b,b]})),r.a.createElement("div",null,r.a.createElement("button",null,"Send")))}));t.a=function(e){var t=e.dialogesPage,a=t.dialogs.map((function(e){return r.a.createElement(l,{name:e.name,id:e.id,key:e.id,avatar:e.avatar})})),n=t.messages.map((function(e){return r.a.createElement(c.a,{state:e,key:e.id})}));return e.isAuth?r.a.createElement("div",{className:s.a.dialogs},r.a.createElement("div",{className:s.a.dialogItems},a),r.a.createElement("div",{className:s.a.messages},r.a.createElement("div",null,n),r.a.createElement(v,{onSubmit:function(t){e.sendMessage(t.newMessageBody)}}))):r.a.createElement(u.a,{to:"/login"})}},298:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(51),r=a(52),o=a(54),s=a(53),i=a(0),l=a.n(i),c=a(10),u=(a(297),a(20)),m=function(e){return{isAuth:e.auth.isAuth}},p=function(e){var t=function(t){Object(o.a)(i,t);var a=Object(s.a)(i);function i(){return Object(n.a)(this,i),a.apply(this,arguments)}return Object(r.a)(i,[{key:"render",value:function(){return this.props.isAuth?l.a.createElement(e,this.props):l.a.createElement(c.a,{to:"/login"})}}]),i}(l.a.Component);return Object(u.b)(m)(t)}},299:function(e,t,a){e.exports=a.p+"static/media/ava.2c37a9e6.jpg"},300:function(e,t,a){e.exports={post:"ProfileInfo_post__2TA_I",userdesc:"ProfileInfo_userdesc__FpLOI",description:"ProfileInfo_description__1bXrO",descriptions:"ProfileInfo_descriptions__1pWxI",contact:"ProfileInfo_contact__JTeNO",edit:"ProfileInfo_edit__iEgOh"}},302:function(e,t,a){e.exports={container:"profile_container__bNesH"}},304:function(e,t,a){e.exports={posts:"MyPosts_posts__SOHG7",addPost:"MyPosts_addPost__29SEF"}},305:function(e,t,a){e.exports={item:"Post_item__2P1Yf"}},307:function(e,t,a){"use strict";a.r(t);var n=a(51),r=a(52),o=a(54),s=a(53),i=a(0),l=a.n(i),c=a(302),u=a.n(c),m=a(296),p=a(300),d=a.n(p),f=a(56),b=function(e){var t=Object(i.useState)(!1),a=Object(m.a)(t,2),n=a[0],r=a[1],o=Object(i.useState)(e.status),s=Object(m.a)(o,2),c=s[0],u=s[1];Object(i.useEffect)((function(){u(e.status)}),[e.status]);return l.a.createElement("div",null,!n&&l.a.createElement("div",null,l.a.createElement("span",{onDoubleClick:function(){r(!0)}},e.status||"status")),n&&l.a.createElement("div",null,l.a.createElement("input",{onBlur:function(){r(!1),e.updateStatus(c)},autoFocus:!0,onChange:function(e){u(e.currentTarget.value)},value:c})))},v=a(299),E=a.n(v),h=a(34),g=a(129),O=a(44),y=a.n(O),j=Object(g.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,a=e.profile,n=e.error;return l.a.createElement("form",{onSubmit:t,className:d.a.descriptions+" "+d.a.edit},l.a.createElement("div",null,l.a.createElement("button",{onClick:function(){}},"save")),n&&l.a.createElement("div",{className:y.a.formSummaryError},n),l.a.createElement("div",{className:d.a.description},l.a.createElement("b",null,"Name:"),Object(h.c)("Full name","fullName",[],h.a)),l.a.createElement("div",{className:d.a.description},l.a.createElement("b",null,"About me:"),Object(h.c)("About me","aboutMe",[],h.b)),l.a.createElement("div",{className:d.a.description},l.a.createElement("b",null,"Looking for a job:"),a.lookingForAjob?"yes":"no",Object(h.c)("","lookingForAJob",[],h.a,{type:"checkbox"})),l.a.createElement("div",{className:d.a.description},l.a.createElement("b",null,"My skills:"),Object(h.c)("My skills","lookingForAJobDescription",[],h.b)),l.a.createElement("div",{className:d.a.contacts},l.a.createElement("b",null,"Contacts:")," ",Object.keys(a.contacts).map((function(e){return l.a.createElement("div",{key:e,className:d.a.contact+" "+d.a.description},l.a.createElement("b",null,e,":"),Object(h.c)(e,"contacts."+e,[],h.a))}))))})),P=function(e){return l.a.createElement("div",{className:d.a.descriptions},e.isOwner&&l.a.createElement("div",null,l.a.createElement("button",{onClick:e.goToEditMode},"edit")),l.a.createElement("div",{className:d.a.description},l.a.createElement("b",null,"Name:"),e.profile.fullName),l.a.createElement("div",{className:d.a.description},l.a.createElement("b",null,"About me:")," ",e.profile.aboutMe),l.a.createElement("div",null,l.a.createElement("b",null,"Looking for a job:"),e.profile.lookingForAjob," ",e.profile.lookingForAjob?"yes":"no"),l.a.createElement("div",null,l.a.createElement("b",null,"My skills:")," ",e.profile.lookingForAjobDescription),l.a.createElement("div",null,l.a.createElement("b",null,"Contacts:")," ",Object.keys(e.profile.contacts).map((function(t){return l.a.createElement(S,{key:t,contactTitle:t,contactValue:e.profile.contacts[t]})}))))},S=function(e){var t=e.contactTitle,a=e.contactValue;return l.a.createElement("div",{className:d.a.contact},l.a.createElement("b",null,t,":"),a)},k=function(e){var t=Object(i.useState)(!1),a=Object(m.a)(t,2),n=a[0],r=a[1];if(!e.profile)return l.a.createElement(f.a,null);return l.a.createElement("div",{className:d.a.post},l.a.createElement("div",{className:d.a.userdesc},l.a.createElement("div",{className:d.a.ava},l.a.createElement("img",{alt:"rge",src:e.profile.photos.large?e.profile.photos.large:E.a}),e.isOwner&&l.a.createElement("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}})),n?l.a.createElement(j,{profile:e.profile,onSubmit:function(t){e.saveProfile(t).then((function(){r(!1)}))},isSaved:e.isSaved}):l.a.createElement(P,{goToEditMode:function(){return r(!0)},profile:e.profile,isOwner:e.isOwner})),l.a.createElement(b,{status:e.status,updateStatus:e.updateStatus}))},N=a(94),_=a(304),w=a.n(_),A=a(305),I=a.n(A),M=function(e){return l.a.createElement("div",{className:I.a.item},l.a.createElement("img",{src:"https://www.1zoom.ru/big2/946/289597-frederika.jpg"}),e.message,l.a.createElement("div",null,l.a.createElement("span",null,"likes ",e.likes)))},F=a(88),x=a(42),C=l.a.memo((function(e){var t=e.posts.map((function(e){return l.a.createElement(M,{message:e.name,key:e.id,likes:e.likesCount})}));l.a.createRef();return l.a.createElement("div",{className:w.a.posts},l.a.createElement("div",null,l.a.createElement("h3",null,"My posts"),l.a.createElement(B,{onSubmit:function(t){e.addPost(t.newPostBody)}}),t))})),T=Object(x.a)(10),B=Object(g.a)({form:"postAddMessageForm"})((function(e){return l.a.createElement("form",{className:w.a.addPost,onSubmit:e.handleSubmit},l.a.createElement("div",null,l.a.createElement(F.a,{component:h.b,name:"newPostBody",placeholder:"enter post",validate:[x.b,T]})),l.a.createElement("div",null,l.a.createElement("button",null,"Add post")))})),D=C,J=a(20),U=Object(J.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(Object(N.a)(t))}}}))(D),z=function(e){return l.a.createElement("div",{className:u.a.container},l.a.createElement(k,{isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus,savePhoto:e.savePhoto,saveProfile:e.saveProfile,isSaved:e.isSaved}),l.a.createElement(U,{store:e.store}))},L=(a(98),a(10)),H=(a(11),a(298),a(9)),V=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return l.a.createElement("div",{className:u.a.container},l.a.createElement(z,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile,isSaved:this.props.isSaved})))}}]),a}(l.a.Component);t.default=Object(H.d)(Object(J.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth,isSaved:e.profilePage.isSaved}}),{getUserProfile:N.d,getStatus:N.c,updateStatus:N.g,savePhoto:N.e,saveProfile:N.f}),L.g)(V)}}]);
//# sourceMappingURL=3.f2cb4441.chunk.js.map